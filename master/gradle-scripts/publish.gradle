/*
 * 共有プロジェクトのJarを社内Mavenリポジトリに公開する
 * ・実行タスク：publish
 *
 */
configure(sharedProjects) {

    apply plugin: 'maven-publish'

    task sourcesJar(type: Jar) {

        classifier = 'sources'
        from sourceSets.main.allJava
     }

    task javadocJar(type: Jar) {

        classifier = 'javadoc'
        from javadoc.destinationDir
    }

    publishing {

        repositories { maven { url = inhouseMavenRepoUrl }}

        publications {

            mavenJava(MavenPublication) {

                from components.java

                artifact sourcesJar
                artifact javadocJar
            }
        }
    }
}
