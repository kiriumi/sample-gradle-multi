// サブプロジェクト
def subprojectNames = [
    'sample-gradle-multi-shared',
    'sample-gradle-multi-app',
    'sample-gradle-multi-web',
]

def includedProjects = []
def subprojectTree = fileTree(dir: settingsDir.parent, includes: subprojectNames)

subprojectTree.visit { subproject -> includedProjects.add(subproject.name) }

// 同階層内に存在するサブプロジェクトのみインクルード
includedProjects.each { includedProject ->
    includeFlat includedProject
}
